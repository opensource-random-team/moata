<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}">
<th:block layout:fragment="content">
    <p>
		<head>
		    <meta charset="UTF-8">
		    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		    <title>게시글 상세 - TaxiShare</title>
		    <script src="https://cdn.tailwindcss.com"></script>
		    <link rel="stylesheet" href="styles.css">
		</head>
		<body class="min-h-screen bg-white">
		    <div class="container mx-auto px-4 py-8">
		        <div class="max-w-4xl mx-auto">
		            <a href="/community">
		                <button class="mb-6 px-4 py-2 border rounded-lg">← 목록으로</button>
		            </a>

		            <!-- Main Post -->
		            <div class="bg-white border rounded-lg shadow-xl p-8 mb-6">
		                <div class="mb-6">
		                    <div class="flex items-center gap-2 mb-4">
		                        
		                        <span class="border text-xs px-2 py-1 rounded" th:text="${post.category}"></span>
		                    </div>
		                    
		                    <!-- 제목 -->
		                    <h1 class="text-3xl font-bold mb-4" th:text="${post.title}"></h1>
		                    
		                </div>

		                <!-- Author -->
		                <div class="flex items-center justify-between mb-6 pb-6 border-b">
		                    <div class="flex items-center gap-3">
		                        <div class="w-12 h-12 bg-blue-500 rounded-full"></div>
		                        <div>
		                            <div class="font-semibold" th:text="${post.user.userId}"></div>
		                            <div class="flex items-center gap-3 text-sm text-gray-600">
		                   
		                                <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}"></span>
		                                <span th:text="'조회수'+' ' + ${post.viewCnt}"></span>

		                            </div>
		                        </div>
		                    </div>
		                
			      			<div class="flex items-center gap-2">
			      			
			      			<form th:if="${post.user.userId == user and post.off==0}"
								      th:action="@{'/community_off/' + ${post.id}}"
								      method="post">
								    <button class="px-4 py-2 bg-red-600 text-white rounded-lg">모집 중단하기</button>
								</form>
								
								<form th:if="${post.off==1}">
							        <div class="px-4 py-2 bg-gray-600 text-white rounded-lg">모집 중단됨</div>
							    </form>

							    <form th:if="${post.user.userId != user}">
							        <button class="px-4 py-2 border rounded-lg">채팅하기</button>
							    </form>
							    
							    <a th:if="${post.user.userId == user}"
								   th:href="@{'/community_delete/' + ${post.id}}"
								   class="px-4 py-2 border rounded-lg"
								   onclick="return confirm('정말 삭제하시겠습니까? 삭제 후 복구는 불가능합니다.');">
								    삭제하기
								</a>
							    
							    <a th:if="${post.user.userId == user}"
							       th:href="@{'/community_edit/' + ${post.id}}"
							       class="px-4 py-2 border rounded-lg">
							        수정하기
							    </a>
							    
							
							</div>

		                    
		                </div>

		                <!-- Content -->
		                <div class="prose max-w-none mb-6">
		                    <p class="leading-relaxed" th:text="${post.content}"></p>
		                    
		                </div>
		                
		                <br>

		                <!-- Actions -->
		                <div class="flex items-center justify-between pt-6 border-t">
		                    <div class="flex items-center gap-6 text-sm text-gray-600">
		                        
		                    </div>
		                    
		                    <button class="px-4 py-2 bg-blue-600 text-white rounded-lg">❤️ 24</button>
		                </div>
		               
								                
		            </div>

		            <!-- Comments -->
		            <div class="bg-white border rounded-lg shadow-lg p-6">
		                <h2 class="text-xl font-semibold mb-6">댓글 <span class="text-blue-600">3</span></h2>
		                
		                <div class="mb-6">
		                    <textarea placeholder="댓글을 입력하세요..." 
		                              class="w-full px-3 py-2 border rounded-lg mb-2"></textarea>
		                    <div class="flex justify-end">
		                        <button class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm">댓글 작성</button>
		                    </div>
		                </div>

		                <div class="space-y-6">
		                    <div class="flex gap-3">
		                        <div class="w-10 h-10 bg-green-500 rounded-full"></div>
		                        <div class="flex-1">
		                            <div class="bg-gray-50 rounded-lg p-4">
		                                <div class="flex items-center justify-between mb-2">
		                                    <span class="font-semibold text-sm">이지영</span>
		                                    <span class="text-xs text-gray-500">2025-01-15 15:10</span>
		                                </div>
		                                <p class="text-sm">저도 비슷한 시간대에 출근하는데 관심 있어요!</p>
		                            </div>
		                        </div>
		                    </div>
		                </div>
		            </div>
		        </div>
		    </div>
		</body>
    </p>
</th:block>
</html>